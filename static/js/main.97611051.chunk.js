(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),i=a.n(l);a(99),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o,c=a(25),s=a(74),d=a.n(s),u=a(35),m=a.n(u),E=a(166),b=a(34);!function(e){e.all="all",e.completed="completed",e.active="active"}(o||(o={}));var O=[],f=a(26),_=a(9),T={},p=function(e,t,a){return{type:"TOGGLE-TASK-EDIT-MODE",todolistId:e,taskId:t,editMode:a}},j=a(33),v=a(52),I=a.n(v),g=a(150),h=a(164),k=a(153),y=a(168),R=a(79),A=a.n(R),x=a(165);function M(e){return r.a.createElement(x.a,Object.assign({elevation:6,variant:"filled"},e))}var D=function(e,t){switch(t.type){case"ERROR":return Object(_.a)(Object(_.a)({},e),{},{error:!0});case"REMOVE_ERROR":return Object(_.a)(Object(_.a)({},e),{},{error:!1});case"REMOVE-TEXT-ERROR":return Object(_.a)(Object(_.a)({},e),{},{errorMessage:e.errorMessage=""});case"ERROR-FIELD-IS-EMPTY":return Object(_.a)(Object(_.a)({},e),{},{errorMessage:e.errorMessage="Field can't be empty"});case"CURRENT_TARGET_VALUE":return t.titleText?Object(_.a)(Object(_.a)({},e),{},{title:e.title=t.titleText}):Object(_.a)(Object(_.a)({},e),{},{title:e.title=""});default:throw new Error("Bad action type")}},C=r.a.memo((function(e){var t=e.addItem,a=e.textMessage,l=e.labelMessage,i=Object(n.useReducer)(D,{error:!1,errorMessage:"",title:""}),o=Object(j.a)(i,2),c=o[0],s=o[1],d=Object(n.useState)(!1),u=Object(j.a)(d,2),m=u[0],E=u[1],b=function(){E(!0)},O=function(e,t){"clickaway"!==t&&E(!1)},f=function(){if(""===c.title.trim())return s({type:"ERROR-FIELD-IS-EMPTY"}),s({type:"ERROR"}),void b();t(c.title.trim()),s({type:"REMOVE-TEXT-ERROR"}),s({type:"REMOVE_ERROR"}),s({type:"CURRENT_TARGET_VALUE"}),b()};return r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:"".concat(I.a.text_field," ").concat(I.a.text_field_floating_2)},r.a.createElement(g.a,{container:!0},r.a.createElement(g.a,{item:!0,xs:12,sm:10},r.a.createElement(h.a,{style:{width:"100%"},error:!!c.errorMessage,variant:"outlined",id:"standard-multiline-flexible",multiline:!0,maxRows:4,label:c.errorMessage?c.errorMessage:l,value:c.title,onChange:function(e){s({type:"CURRENT_TARGET_VALUE",titleText:e.currentTarget.value})},onKeyDown:function(e){s({type:"REMOVE-TEXT-ERROR"}),"Enter"===e.key&&f()}})),r.a.createElement(g.a,{item:!0,xs:12,sm:2},r.a.createElement(k.a,{startIcon:r.a.createElement(A.a,null),style:{marginLeft:"5px",width:"100%",height:"100%"},color:"primary",variant:"contained",className:"".concat(I.a.btn," ").concat(I.a.btn_input),onClick:f},"create"))),r.a.createElement(y.a,{open:m,autoHideDuration:6e3,onClose:O},r.a.createElement(M,{onClose:O,severity:c.error?"error":"success"},c.error?"Field can't be empty":a)))})),w=a(57),S=a.n(w),L=a(84),N=a.n(L),F=a(82),V=a.n(F),G=a(83),H=a.n(G),K=a(169),U=a(167),B=a(149),z=r.a.memo((function(e){var t=e.title,a=e.toggleEditMode,n=e.activateEditMode,l=e.deactivateEditMode,i=e.newTitle,o=e.setNewTitle;console.log("render editable span");return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(h.a,{style:{width:"100%"},id:"standard-multiline-flexible",multiline:!0,maxRows:5,value:i,onChange:function(e){o(e.currentTarget.value)},onBlur:l,autoFocus:!0}):r.a.createElement("span",{onDoubleClick:n},t))})),J=a(81),W=a.n(J),X=r.a.memo((function(e){var t=e.task,a=e.todolistId,l=e.keyForLabel;console.log("render task");var i=Object(c.b)(),o=Object(n.useState)(""),s=Object(j.a)(o,2),d=s[0],u=s[1],E=Object(n.useCallback)((function(){return i(function(e,t){return{type:"REMOVE-TASK",todolistId:e,taskId:t}}(a,t.id))}),[i,a,t.id]),b=Object(n.useCallback)((function(e){i(function(e,t,a){return{type:"CHANGE-TASK-STATUS",todolistId:e,taskId:t,isDone:a}}(a,t.id,e.currentTarget.checked))}),[i,a,t.id]),O=Object(n.useCallback)((function(){i(p(a,t.id,!0)),u(t.title)}),[i,a,t.id,t.title,u]),f=Object(n.useCallback)((function(){i(p(a,t.id,!1)),i(function(e,t,a){return{type:"CHANGE-TITLE-TASK",todolistId:e,taskId:t,title:a}}(a,t.id,d))}),[i,a,t.id,d]);return r.a.createElement("li",{key:t.id,className:"".concat(m.a.task_item)},r.a.createElement(K.a,{title:"completed"},r.a.createElement(U.a,{color:"primary",size:"medium",id:l,checked:t.isDone,onChange:b})),r.a.createElement("label",{htmlFor:l,className:"".concat(t.isDone?m.a.task_isDone:"")},r.a.createElement(z,{title:t.title,newTitle:d,setNewTitle:u,toggleEditMode:t.editMode,activateEditMode:O,deactivateEditMode:f})),r.a.createElement("div",{className:m.a.item_btn_container},r.a.createElement(K.a,{title:"Edit"},r.a.createElement(B.a,{onClick:O,color:"primary",size:"small"},r.a.createElement(W.a,null))),r.a.createElement(K.a,{title:"Delete"},r.a.createElement(B.a,{onClick:E,color:"secondary",size:"small"},r.a.createElement(S.a,null)))))})),P=r.a.memo((function(e){var t=e.todolistId,a=e.title,l=e.changeFilter,i=e.filter,s=e.removeTodolist;console.log("render todolist");var d=Object(c.c)((function(e){return e.tasks[t]})),u=Object(c.b)(),b=Object(n.useCallback)((function(e){u(function(e,t){return{type:"ADD-TASK",todolistId:e,title:t}}(t,e.trim()))}),[u,t]),O=Object(n.useCallback)((function(){return l(t,o.all)}),[l,t]),f=Object(n.useCallback)((function(){return l(t,o.active)}),[l,t]),_=Object(n.useCallback)((function(){return l(t,o.completed)}),[l,t]);return i===o.completed&&(d=d.filter((function(e){return e.isDone}))),i===o.active&&(d=d.filter((function(e){return!e.isDone}))),r.a.createElement("div",{className:m.a.todolist},r.a.createElement("div",{className:m.a.todolist_header},r.a.createElement("h3",{className:m.a.header_title},a),r.a.createElement(k.a,{variant:"contained",color:"secondary",startIcon:r.a.createElement(S.a,null),onClick:function(){s(t)}},"remove")),r.a.createElement("div",null,r.a.createElement(C,{addItem:b,textMessage:"Task created successfully!",labelMessage:"Add a new task..."})),r.a.createElement(g.a,{container:!0,spacing:1},r.a.createElement(g.a,{item:!0,xs:12,sm:4},r.a.createElement(k.a,{style:{width:"100%"},color:i===o.all?"primary":"default",startIcon:r.a.createElement(V.a,null),variant:"contained",onClick:O},"All")),r.a.createElement(g.a,{item:!0,xs:12,sm:4},r.a.createElement(k.a,{style:{width:"100%"},color:i===o.active?"primary":"default",startIcon:r.a.createElement(H.a,null),variant:"contained",onClick:f},"Active")),r.a.createElement(g.a,{item:!0,xs:12,sm:4},r.a.createElement(k.a,{style:{width:"100%"},color:i===o.completed?"primary":"default",startIcon:r.a.createElement(N.a,null),variant:"contained",onClick:_},"Completed"))),r.a.createElement("ul",null,d.map((function(e){var a=Object(E.a)();return r.a.createElement(X,{key:e.id,task:e,todolistId:t,keyForLabel:a})}))))})),q=a(163),Y=a(109),Q=a(159),Z=a(160),$=a(161),ee=a(158),te=a(155),ae=a(156),ne=a(85),re=a.n(ne),le=a(154),ie=a(157),oe=a(162),ce=a(86),se=a.n(ce),de=Object(le.a)((function(e){return{scrollTopButton:{position:"fixed",zIndex:9999,bottom:e.spacing(2),right:e.spacing(2)},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,textTransform:"uppercase"}}}));function ue(e){var t=e.children,a=Object(te.a)();return r.a.createElement(ae.a,{appear:!1,direction:"down",in:!a},t)}function me(e){var t=e.children,a=de(),n=Object(te.a)({disableHysteresis:!0,threshold:100});return r.a.createElement(ie.a,{in:n},r.a.createElement("div",{onClick:function(e){var t=(e.target.ownerDocument||document).querySelector("#back-to-top-anchor");t&&t.scrollIntoView({behavior:"smooth",block:"center"})},role:"presentation",className:a.scrollTopButton},t))}function Ee(){var e=de();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,null),r.a.createElement(ue,null,r.a.createElement(Q.a,null,r.a.createElement(Z.a,null,r.a.createElement(B.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(re.a,null)),r.a.createElement($.a,{variant:"h6",className:e.title},"Todolist"),r.a.createElement(k.a,{color:"inherit"},"Login")))),r.a.createElement(Z.a,{id:"back-to-top-anchor"}),r.a.createElement(me,null,r.a.createElement(oe.a,{color:"secondary",size:"small","aria-label":"scroll back to top"},r.a.createElement(se.a,null))))}var be=function(){console.log("render app");var e=Object(c.b)(),t=Object(c.c)((function(e){return e.todolists})),a=Object(n.useCallback)((function(t){e(function(e){return{type:"ADD-TODOLIST",title:e,todolistId:Object(E.a)()}}(t))}),[e]),l=Object(n.useCallback)((function(t){e(function(e){return{type:"REMOVE-TODOLIST",todolistId:e}}(t))}),[e]),i=Object(n.useCallback)((function(t,a){e(function(e,t){return{type:"CHANGE-TODOLIST-FILTER",id:e,filterValue:t}}(t,a))}),[e]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,null),r.a.createElement(q.a,{maxWidth:"xl"},r.a.createElement(g.a,{container:!0,spacing:3},r.a.createElement(g.a,{item:!0,xs:12,style:{textAlign:"center",marginTop:"20px"}},r.a.createElement("h1",{className:d.a.header_title},"my todolists"),r.a.createElement(C,{addItem:a,textMessage:"Todolist created successfully!",labelMessage:"Add a new to-do list..."})),t.map((function(e){return r.a.createElement(g.a,{item:!0,xs:12,md:6,key:e.id},r.a.createElement(Y.a,{elevation:3,variant:"outlined",style:{padding:"10px"}},r.a.createElement(P,{todolistId:e.id,key:e.id,title:e.title,changeFilter:i,filter:e.filter,removeTodolist:l})))})))))},Oe=a(63),fe=Object(Oe.a)({todolists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REMOVE-TODOLIST":return e.filter((function(e){return e.id!==t.todolistId}));case"ADD-TODOLIST":return[].concat(Object(b.a)(e),[{id:t.todolistId,title:t.title,filter:o.all}]);case"CHANGE-TODOLIST-TITLE":var a=e.find((function(e){return e.id===t.id}));return a&&(a.title=t.title),Object(b.a)(e);case"CHANGE-TODOLIST-FILTER":var n=e.find((function(e){return e.id===t.id}));return n&&(n.filter=t.filterValue),Object(b.a)(e);default:return e}},tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-TASK":var a={id:Object(E.a)(),title:t.title,isDone:!1,editMode:!1};return Object(_.a)(Object(_.a)({},e),{},Object(f.a)({},t.todolistId,[a].concat(Object(b.a)(e[t.todolistId]))));case"REMOVE-TASK":var n=e[t.todolistId];return Object(_.a)(Object(_.a)({},e),{},Object(f.a)({},t.todolistId,n.filter((function(e){return e.id!==t.taskId}))));case"CHANGE-TASK-STATUS":var r=e[t.todolistId];return Object(_.a)(Object(_.a)({},e),{},Object(f.a)({},t.todolistId,r.map((function(e){return e.id===t.taskId?Object(_.a)(Object(_.a)({},e),{},{isDone:t.isDone}):e}))));case"CHANGE-TITLE-TASK":var l=e[t.todolistId],i=l.map((function(e){return e.id===t.taskId?Object(_.a)(Object(_.a)({},e),{},{title:t.title}):e}));return Object(_.a)(Object(_.a)({},e),{},Object(f.a)({},t.todolistId,i));case"TOGGLE-TASK-EDIT-MODE":var o=e[t.todolistId],c=o.map((function(e){return e.id===t.taskId?Object(_.a)(Object(_.a)({},e),{},{editMode:t.editMode}):e}));return Object(_.a)(Object(_.a)({},e),{},Object(f.a)({},t.todolistId,c));case"ADD-TODOLIST":return Object(_.a)(Object(_.a)({},e),{},Object(f.a)({},t.todolistId,[]));case"REMOVE-TODOLIST":var s=Object(_.a)({},e);return delete s[t.todolistId],s;default:return e}}}),_e=Object(Oe.b)(fe);i.a.render(r.a.createElement(c.a,{store:_e},r.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},35:function(e,t,a){e.exports={todolist:"Todolist_todolist__sgA6W",todolist_header:"Todolist_todolist_header__3lVJJ",header_title:"Todolist_header_title__1ruaJ",task_item:"Todolist_task_item__3MqWN",task_isDone:"Todolist_task_isDone__1MLTy",item_btn_container:"Todolist_item_btn_container__hPR4e"}},52:function(e,t,a){e.exports={btn:"AddItemForm_btn__7HHZc",text_field:"AddItemForm_text_field__22g1n",text_field__label:"AddItemForm_text_field__label__2y7zV",text_field__input:"AddItemForm_text_field__input__XnxUI",text_field_floating_2:"AddItemForm_text_field_floating_2__2lRdS",error:"AddItemForm_error__1ncms",btn_input:"AddItemForm_btn_input__2QjMo",active_filter:"AddItemForm_active_filter__23tUH"}},74:function(e,t,a){e.exports={header_title:"App_header_title__3sOCX"}},94:function(e,t,a){e.exports=a(108)},99:function(e,t,a){}},[[94,1,2]]]);
//# sourceMappingURL=main.97611051.chunk.js.map